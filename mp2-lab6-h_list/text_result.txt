// mp2-lab6-h_list.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include "TText.h"
#include <locale.h>
#include <string>
#include <iostream>
#include <fstream>
using namespace std;

TTextMem TLink::TextMem;

int _tmain(int argc, _TCHAR* argv[])
{
	setlocale(LC_CTYPE, "Russian");
	TLink::InitMem(100);
	TText t;
	string str;
	cout << "Введите имя документа с текстом:" << endl;
	cin >> str;
	t.Load(str);
	char p;
	do
	{
		cout << "Выберите номер операции:" << endl;
		cout << "1. Ввести новый текст" << endl;
		cout << "2. Вывести текст на экран" << endl;
		cout << "3. Вставить строки в текст" << endl;
		cout << "4. Удалить строки из текста" << endl;
		cout << "5. Вывести список свободных звеньев" << endl;
		cout << "6. Сборка \"мусора\"" << endl;
		cout << "7. Сохранить текст в файл" << endl;
		cout << "8. Завершение работы" << endl;
		cin >> p;
		switch (p)
		{
		case '1': cout << "Введите имя документа с текстом:" << endl;
			cin >> str;
			t.Load(str);
			break;
		case '2': t.PrintText();
			break;
		case '3': cout << "Операция находится в стадии разработки" << endl;
			break;
		case '4': cout << "Операция находится в стадии разработки" << endl;
			break;
		case '5': TLink::PrintFree();
			break;
		case '6': TLink::MemClean(t);
			break;
		case '7': cout << "Введите имя документа, в который хотите сохранить текст:" << endl;
			cin >> str;
			t.SaveText(str);
			break;
		case '8': break;
		default: cout << "Некорректный ввод! Введите номер операции заново." << endl;
		}
	} while (p!='8');
	return 0;
}


pHead = ptemp;
delete pHead;
ptemp = pHead->pNext;
ptemp = p;
ptemp->pNext = p;
TLink *p = new TLink(_str.c_str());
return pHead;
else
ptemp->pDown = ReadSection(ifs);
if (_str[0] == '{')
break;
if (_str[0] == '}')
getline(ifs, _str);
if (pHead->pDown == NULL)
while (!ifs.eof())
ptemp = pHead;
pHead = new TLink;
TLink *pHead, *ptemp;
string _str;



{
